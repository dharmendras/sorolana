"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.post = post;
exports.postObject = postObject;
var _axios = _interopRequireDefault(require("./axios"));
var _utils = require("./utils");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
async function post(url, method) {
  for (var _len = arguments.length, params = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    params[_key - 2] = arguments[_key];
  }
  if (params && params.length < 1) {
    params = null;
  }
  const response = await _axios.default.post(url, {
    jsonrpc: "2.0",
    id: 1,
    method,
    params
  });
  if ((0, _utils.hasOwnProperty)(response.data, "error")) {
    throw response.data.error;
  } else {
    var _response$data;
    return (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.result;
  }
}
async function postObject(url, method, param) {
  const response = await _axios.default.post(url, {
    jsonrpc: "2.0",
    id: 1,
    method,
    params: param
  });
  if ((0, _utils.hasOwnProperty)(response.data, "error")) {
    throw response.data.error;
  } else {
    var _response$data2;
    return (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.result;
  }
}